{% load static %}
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>{% block title %}App{% endblock %}</title>
    <link rel="stylesheet" href="{% static 'ui/css/vendors.min.css' %}"/>
    <link rel="stylesheet" href="{% static 'ui/css/app.min.css' %}"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"/>
    <link rel="stylesheet" href="{% static 'ui/css/custom.css' %}"/>
    {% block head_extra %}{% endblock %}
    <script src="https://unpkg.com/htmx.org@1.9.12"></script>
  </head>
  <body>
    <div class="wrapper">
      <aside class="sidenav-menu">
        <a href="/" class="logo">
          <span class="logo logo-light">
            <span class="logo-lg"><img src="{% static 'ui/images/logo.png' %}" alt="Inspinia logo"/></span>
            <span class="logo-sm"><img src="{% static 'ui/images/logo-sm.png' %}" alt="Inspinia logo small"/></span>
          </span>
          <span class="logo logo-dark">
            <span class="logo-lg"><img src="{% static 'ui/images/logo-black.png' %}" alt="Inspinia logo"/></span>
            <span class="logo-sm"><img src="{% static 'ui/images/logo-sm.png' %}" alt="Inspinia logo small"/></span>
          </span>
        </a>
        <button class="button-on-hover" type="button">
          <i class="ti ti-menu-4 fs-22 align-middle"></i>
        </button>
        <button class="button-close-offcanvas" type="button">
          <i class="ti ti-x align-middle"></i>
        </button>
        <div class="scrollbar" data-simplebar>
          {% block sidebar %}
          <ul class="side-nav pt-2">
            <li class="side-nav-title text-uppercase">Navigation</li>
            <li class="side-nav-item">
              <a href="/" class="side-nav-link {% if request.path == '/' %}active{% endif %}">
                <span class="menu-icon"><i class="ti ti-layout-dashboard"></i></span>
                <span class="menu-text">Dashboard</span>
              </a>
            </li>
            <li class="side-nav-item">
              <a href="{% url 'file_manager' %}" class="side-nav-link">
                <span class="menu-icon"><i class="ti ti-folder"></i></span>
                <span class="menu-text">Uploads</span>
              </a>
            </li>
            {% if request.user.is_staff %}
            <li class="side-nav-title text-uppercase mt-3">Admin</li>
            <li class="side-nav-item">
              <a href="/admin-portal/" class="side-nav-link">
                <span class="menu-icon"><i class="ti ti-layout-2"></i></span>
                <span class="menu-text">Admin Portal</span>
              </a>
            </li>
            <li class="side-nav-item">
              <a href="/rbac/admin/" class="side-nav-link">
                <span class="menu-icon"><i class="ti ti-shield-lock"></i></span>
                <span class="menu-text">RBAC</span>
              </a>
            </li>
            <li class="side-nav-item">
              <a href="/contexts/categories/" class="side-nav-link">
                <span class="menu-icon"><i class="ti ti-folders"></i></span>
                <span class="menu-text">Categories</span>
              </a>
            </li>
            {% endif %}
          </ul>
          {% endblock %}
        </div>
      </aside>
      <header class="app-topbar">
        <div class="container-fluid topbar-menu">
          <div class="d-flex align-items-center gap-3">
            <div class="logo-topbar">
              <a href="/" class="logo-light text-decoration-none">
                <span class="logo-lg"><img src="{% static 'ui/images/logo.png' %}" alt="Inspinia logo"/></span>
                <span class="logo-sm"><img src="{% static 'ui/images/logo-sm.png' %}" alt="Inspinia logo small"/></span>
              </a>
              <a href="/" class="logo-dark text-decoration-none">
                <span class="logo-lg"><img src="{% static 'ui/images/logo-black.png' %}" alt="Inspinia logo"/></span>
                <span class="logo-sm"><img src="{% static 'ui/images/logo-sm.png' %}" alt="Inspinia logo small"/></span>
              </a>
            </div>
          </div>
          <div class="ms-auto d-flex align-items-center gap-3 topbar-actions">
            {% block navbar_items %}
            <a class="topbar-link d-flex align-items-center gap-2" href="/admin-portal/">
              <i class="ti ti-layout-2"></i>
              <span>Admin Portal</span>
            </a>
            {% endblock %}
          </div>
        </div>
      </header>
      <div class="content-page">
        <div class="container-fluid">
          {% if messages %}
            <div class="mb-3">
              {% for message in messages %}
                <div class="alert alert-{{ message.tags|default:'info' }} alert-dismissible fade show" role="alert">
                  {{ message }}
                  <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
              {% endfor %}
            </div>
          {% endif %}
          {% block content_header %}
          <div class="page-title-head d-flex align-items-center mb-4">
            <div class="flex-grow-1">
              <h4 class="fs-sm text-uppercase fw-bold m-0">{% block page_title %}Dashboard{% endblock %}</h4>
            </div>
          </div>
          {% endblock %}
          {% block content %}{% endblock %}
        </div>
        <footer class="footer mt-auto">
          <div class="container-fluid">
            <div class="row">
              <div class="col-md-6 text-center text-md-start">
                Â© {% now "Y" %} Inspinia Demo
              </div>
              <div class="col-md-6">
                <div class="text-md-end d-none d-md-block">
                  Built with the Inspinia SaaS layout.
                </div>
              </div>
            </div>
          </div>
        </footer>
      </div>
    </div>
    <script src="{% static 'ui/js/config.js' %}"></script>
    <script src="{% static 'ui/js/vendors.min.js' %}"></script>
    <script src="{% static 'ui/js/app.js' %}"></script>
    {% block scripts_extra %}{% endblock %}
  </body>
</html>
